"use strict";(self.webpackChunkoncall_des=self.webpackChunkoncall_des||[]).push([[994],{"./src/components/Autocomplete/stories/autocomplete.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Def:function(){return Def},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return autocomplete_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),Input=__webpack_require__("./src/components/Input/Input.tsx"),Icon=__webpack_require__("./src/components/Icon/Icon.tsx"),transition=__webpack_require__("./src/components/Transition/transition.tsx");var hooks_useDebounce=function useDebounce(value){var delay=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,_useState=(0,react.useState)(value),_useState2=(0,slicedToArray.Z)(_useState,2),debouncedValue=_useState2[0],setBouncedValue=_useState2[1];return(0,react.useEffect)((function(){var handler=window.setTimeout((function(){setBouncedValue(value)}),delay);return function(){clearTimeout(handler)}}),[value,delay]),debouncedValue};var _Def$parameters,_Def$parameters2,_Def$parameters2$docs,hooks_useClickOutside=function useClickOutside(ref,handler){(0,react.useEffect)((function(){var listener=function listener(event){ref.current&&!ref.current.contains(event.target)&&handler(event)};return document.addEventListener("click",listener),function(){document.removeEventListener("click",listener)}}),[ref,handler])},_excluded=["fetchSuggestions","onSelect","renderOption","value"],Autocomplete=function Autocomplete(props){var fetchSuggestions=props.fetchSuggestions,onSelect=props.onSelect,renderOption=props.renderOption,_props$value=props.value,value=void 0===_props$value?"":_props$value,restProps=(0,objectWithoutProperties.Z)(props,_excluded),_useState=(0,react.useState)(value),_useState2=(0,slicedToArray.Z)(_useState,2),inputValue=_useState2[0],setInputValue=_useState2[1],_useState3=(0,react.useState)([]),_useState4=(0,slicedToArray.Z)(_useState3,2),suggestions=_useState4[0],setSuggestions=_useState4[1],_useState5=(0,react.useState)(!1),_useState6=(0,slicedToArray.Z)(_useState5,2),showLoading=_useState6[0],setShowLoading=_useState6[1],_useState7=(0,react.useState)(!1),_useState8=(0,slicedToArray.Z)(_useState7,2),showDropdown=_useState8[0],setShowDropdown=_useState8[1],debouncedValue=hooks_useDebounce(inputValue,300),triggerSearch=(0,react.useRef)(!1),componentRef=(0,react.useRef)(null);hooks_useClickOutside(componentRef,(function(){setSuggestions([])})),(0,react.useEffect)((function(){if(debouncedValue&&triggerSearch.current){setSuggestions([]);var result=fetchSuggestions(debouncedValue);result instanceof Promise?(setShowLoading(!0),result.then((function(data){setShowLoading(!1),setSuggestions(data),data.length>0&&setShowDropdown(!0)}))):(setSuggestions(result),setShowDropdown(!0),result.length>0&&setShowDropdown(!0))}else setShowDropdown(!1)}),[debouncedValue]);return react.createElement("div",{className:"oc-auto-complete",ref:componentRef},react.createElement(Input.Z,Object.assign({value:inputValue,onChange:function handleChange(e){var value=e.target.value.trim();setInputValue(value),triggerSearch.current=!0}},restProps)),function generateDropdown(){return react.createElement(transition.Z,{in:showDropdown||showLoading,animation:"zoom-in-top",timeout:300,onExited:function onExited(){setSuggestions([])}},react.createElement("ul",{className:"oc-suggestion-list"},showLoading&&react.createElement("div",{className:"suggstions-loading-icon"},react.createElement(Icon.Z,{icon:"spinner",spin:!0})),null==suggestions?void 0:suggestions.map((function(item,index){return react.createElement("li",{key:index,onClick:function onClick(){return function handleSelect(item){setInputValue(item.value),setShowDropdown(!1),onSelect&&onSelect(item),triggerSearch.current=!1}(item)},className:"suggestion-item"},react.createElement(react.Fragment,null,function renderTemplate(item){return renderOption?renderOption(item):item.value}(item)))}))))}())},Autocomplete_Autocomplete=Autocomplete;try{Autocomplete.displayName="Autocomplete",Autocomplete.__docgenInfo={description:"",displayName:"Autocomplete",props:{fetchSuggestions:{defaultValue:null,description:"",name:"fetchSuggestions",required:!0,type:{name:"(str: string) => DataSourceObject[] | Promise<DataSourceObject[]>"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!1,type:{name:"((item: DataSourceObject) => void)"}},renderOption:{defaultValue:null,description:"",name:"renderOption",required:!1,type:{name:"((item: DataSourceObject) => ReactElement<any, string | JSXElementConstructor<any>>)"}},size:{defaultValue:null,description:"设置 input 的尺寸",name:"size",required:!1,type:{name:"enum",value:[{value:'"lg"'},{value:'"sm"'}]}},disabled:{defaultValue:null,description:"设置 input 是否能用",name:"disabled",required:!1,type:{name:"boolean"}},icon:{defaultValue:null,description:"设置 input 是否显示 icon , icon 类型自定义",name:"icon",required:!1,type:{name:"IconProp"}},prepend:{defaultValue:null,description:"设置 input 首位处是否显示",name:"prepend",required:!1,type:{name:"string"}},append:{defaultValue:null,description:"设置 input 末尾处是否显示",name:"append",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Autocomplete/Autocomplete.tsx#Autocomplete"]={docgenInfo:Autocomplete.__docgenInfo,name:"Autocomplete",path:"src/components/Autocomplete/Autocomplete.tsx#Autocomplete"})}catch(__react_docgen_typescript_loader_error){}var autocomplete_stories={title:"Form表单组件/Autocomplete",component:Autocomplete_Autocomplete,tags:["autodocs"]};var Def={args:{fetchSuggestions:function handleFetch(query){var url="http://api.github.com/search/users?q=".concat(query);return fetch(url).then((function(res){return res.json()})).then((function(_ref){var items=_ref.items;return null==items?void 0:items.slice(0,10).map((function(item){return(0,objectSpread2.Z)({value:item.login},item)}))}))},renderOption:function renderItem(query){return react.createElement(react.Fragment,null,react.createElement(react.Fragment,null,query.value))}}};Def.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Def.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Def$parameters=Def.parameters)||void 0===_Def$parameters?void 0:_Def$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"{\n  args: {\n    fetchSuggestions: handleFetch,\n    renderOption: renderItem\n  }\n}"},null===(_Def$parameters2=Def.parameters)||void 0===_Def$parameters2||null===(_Def$parameters2$docs=_Def$parameters2.docs)||void 0===_Def$parameters2$docs?void 0:_Def$parameters2$docs.source)})});var __namedExportsOrder=["Def"]},"./src/components/Icon/Icon.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var D_GitHub_Warehouse_UI_oncall_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),D_GitHub_Warehouse_UI_oncall_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),_excluded=["className","theme"],Icon=function Icon(props){var className=props.className,theme=props.theme,restProps=(0,D_GitHub_Warehouse_UI_oncall_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__.Z)(props,_excluded),classes=classnames__WEBPACK_IMPORTED_MODULE_2___default()("oc-icon",className,(0,D_GitHub_Warehouse_UI_oncall_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__.Z)({},"oc-icon-".concat(theme),theme));return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1__.G,Object.assign({className:classes},restProps))};Icon.defaultProps={theme:"secondary"},__webpack_exports__.Z=Icon;try{Icon.displayName="Icon",Icon.__docgenInfo={description:"",displayName:"Icon",props:{theme:{defaultValue:{value:"secondary"},description:"设置 icon 的主题",name:"theme",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"success"'},{value:'"info"'},{value:'"warning"'},{value:'"danger"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Icon/Icon.tsx#Icon"]={docgenInfo:Icon.__docgenInfo,name:"Icon",path:"src/components/Icon/Icon.tsx#Icon"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Input/Input.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var D_GitHub_Warehouse_UI_oncall_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),D_GitHub_Warehouse_UI_oncall_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_Icon_Icon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Icon/Icon.tsx"),_excluded=["disabled","size","icon","prepend","append","style"],Input=function Input(props){var _classNames,disabled=props.disabled,size=props.size,icon=props.icon,prepend=props.prepend,append=props.append,style=props.style,restProps=(0,D_GitHub_Warehouse_UI_oncall_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__.Z)(props,_excluded),classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()("oc-input-wrapper",(_classNames={},(0,D_GitHub_Warehouse_UI_oncall_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_classNames,"input-size-".concat(size),size),(0,D_GitHub_Warehouse_UI_oncall_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_classNames,"disabled",disabled),(0,D_GitHub_Warehouse_UI_oncall_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_classNames,"input-group",prepend||append),(0,D_GitHub_Warehouse_UI_oncall_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_classNames,"input-group-append",append),(0,D_GitHub_Warehouse_UI_oncall_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_classNames,"input-group-prepend",prepend),_classNames));return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classes,style:style},prepend&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"oc-input-group-prepend"},prepend),icon&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"oc-icon-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Icon_Icon__WEBPACK_IMPORTED_MODULE_2__.Z,{icon:icon,title:"title-".concat(icon)})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",Object.assign({className:"oc-input",disabled:disabled},restProps)),append&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"oc-input-group-append"},append))};Input.defaultProps={placeholder:"Please Input",disabled:!1},__webpack_exports__.Z=Input;try{Input.displayName="Input",Input.__docgenInfo={description:"\n通过鼠标或键盘输入内容，是最基础的表单域的包装。\n###何时使用\n 需要用户输入表单域内容时。\n 提供组合型输入框，带搜索的输入框，还可以进行大小选择。",displayName:"Input",props:{disabled:{defaultValue:{value:"false"},description:"设置 input 是否能用",name:"disabled",required:!1,type:{name:"boolean"}},size:{defaultValue:null,description:"设置 input 的尺寸",name:"size",required:!1,type:{name:"enum",value:[{value:'"lg"'},{value:'"sm"'}]}},icon:{defaultValue:null,description:"设置 input 是否显示 icon , icon 类型自定义",name:"icon",required:!1,type:{name:"IconProp"}},prepend:{defaultValue:null,description:"设置 input 首位处是否显示",name:"prepend",required:!1,type:{name:"string"}},append:{defaultValue:null,description:"设置 input 末尾处是否显示",name:"append",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Input/Input.tsx#Input"]={docgenInfo:Input.__docgenInfo,name:"Input",path:"src/components/Input/Input.tsx#Input"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Transition/transition.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var D_GitHub_Warehouse_UI_oncall_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_transition_group__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-transition-group/esm/CSSTransition.js"),_excluded=["children","classNames","animation","wrapper"],Transition=function Transition(props){var children=props.children,classNames=props.classNames,animation=props.animation,wrapper=props.wrapper,resProps=(0,D_GitHub_Warehouse_UI_oncall_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__.Z)(props,_excluded);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_transition_group__WEBPACK_IMPORTED_MODULE_2__.Z,Object.assign({classNames:classNames||animation},resProps),wrapper?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,children):children)};Transition.defaultProps={unmountOnExit:!0,appear:!0},__webpack_exports__.Z=Transition;try{transition.displayName="transition",transition.__docgenInfo={description:"",displayName:"transition",props:{classNames:{defaultValue:null,description:"The animation `classNames` applied to the component as it enters or exits.\nA single name can be provided and it will be suffixed for each stage: e.g.\n\n`classNames=\"fade\"` applies `fade-enter`, `fade-enter-active`,\n`fade-exit`, `fade-exit-active`, `fade-appear`, and `fade-appear-active`.\n\nEach individual classNames can also be specified independently like:\n\n```js\nclassNames={{\n  appear: 'my-appear',\n  appearActive: 'my-appear-active',\n  appearDone: 'my-appear-done',\n  enter: 'my-enter',\n  enterActive: 'my-enter-active',\n  enterDone: 'my-enter-done',\n  exit: 'my-exit',\n  exitActive: 'my-exit-active',\n  exitDone: 'my-exit-done'\n}}\n```",name:"classNames",required:!1,type:{name:"string | CSSTransitionClassNames"}},animation:{defaultValue:null,description:"",name:"animation",required:!1,type:{name:"enum",value:[{value:'"zoom-in-top"'},{value:'"zoom-in-right"'},{value:'"zoom-in-bottom"'},{value:'"zoom-in-left"'}]}},wrapper:{defaultValue:null,description:"",name:"wrapper",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Transition/transition.tsx#transition"]={docgenInfo:transition.__docgenInfo,name:"transition",path:"src/components/Transition/transition.tsx#transition"})}catch(__react_docgen_typescript_loader_error){}}}]);